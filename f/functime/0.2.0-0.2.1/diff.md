# Comparing `tmp/functime-0.2.0-py3-none-any.whl.zip` & `tmp/functime-0.2.1-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,44 +1,44 @@
-Zip file size: 58240 bytes, number of entries: 42
--rw-r--r--  2.0 unx       66 b- defN 23-Jul-17 14:27 functime/__init__.py
--rw-r--r--  2.0 unx      117 b- defN 23-Jul-17 14:27 functime/__main__.py
--rw-r--r--  2.0 unx     5893 b- defN 23-Jul-17 14:27 functime/backtesting.py
--rw-r--r--  2.0 unx     1838 b- defN 23-Jul-17 14:27 functime/conformal.py
--rw-r--r--  2.0 unx     1379 b- defN 23-Jul-17 14:27 functime/conversion.py
--rw-r--r--  2.0 unx     5549 b- defN 23-Jul-17 14:27 functime/cross_validation.py
--rw-r--r--  2.0 unx     2241 b- defN 23-Jul-17 14:27 functime/offsets.py
--rw-r--r--  2.0 unx      393 b- defN 23-Jul-17 14:27 functime/plotting.py
--rw-r--r--  2.0 unx    18818 b- defN 23-Jul-17 14:27 functime/preprocessing.py
--rw-r--r--  2.0 unx     1976 b- defN 23-Jul-17 14:27 functime/ranges.py
--rw-r--r--  2.0 unx     1481 b- defN 23-Jul-17 14:27 functime/stats.py
--rw-r--r--  2.0 unx      506 b- defN 23-Jul-17 14:27 functime/umap.py
--rw-r--r--  2.0 unx      217 b- defN 23-Jul-17 14:27 functime/base/__init__.py
--rw-r--r--  2.0 unx     7424 b- defN 23-Jul-17 14:27 functime/base/forecaster.py
--rw-r--r--  2.0 unx     1630 b- defN 23-Jul-17 14:27 functime/base/metric.py
--rw-r--r--  2.0 unx     2771 b- defN 23-Jul-17 14:27 functime/base/model.py
--rw-r--r--  2.0 unx     2237 b- defN 23-Jul-17 14:27 functime/base/transformer.py
--rw-r--r--  2.0 unx      285 b- defN 23-Jul-17 14:27 functime/feature_extraction/__init__.py
--rw-r--r--  2.0 unx     4064 b- defN 23-Jul-17 14:27 functime/feature_extraction/calendar.py
--rw-r--r--  2.0 unx      745 b- defN 23-Jul-17 14:27 functime/forecasting/__init__.py
--rw-r--r--  2.0 unx    12183 b- defN 23-Jul-17 14:27 functime/forecasting/_ar.py
--rw-r--r--  2.0 unx     4798 b- defN 23-Jul-17 14:27 functime/forecasting/_evaluate.py
--rw-r--r--  2.0 unx     2231 b- defN 23-Jul-17 14:27 functime/forecasting/_reduction.py
--rw-r--r--  2.0 unx     8481 b- defN 23-Jul-17 14:27 functime/forecasting/_regressors.py
--rw-r--r--  2.0 unx     8215 b- defN 23-Jul-17 14:27 functime/forecasting/automl.py
--rw-r--r--  2.0 unx     2175 b- defN 23-Jul-17 14:27 functime/forecasting/catboost.py
--rw-r--r--  2.0 unx     3714 b- defN 23-Jul-17 14:27 functime/forecasting/censored.py
--rw-r--r--  2.0 unx     1034 b- defN 23-Jul-17 14:27 functime/forecasting/knn.py
--rw-r--r--  2.0 unx     3703 b- defN 23-Jul-17 14:27 functime/forecasting/lance.py
--rw-r--r--  2.0 unx     4215 b- defN 23-Jul-17 14:27 functime/forecasting/lightgbm.py
--rw-r--r--  2.0 unx     4018 b- defN 23-Jul-17 14:27 functime/forecasting/linear.py
--rw-r--r--  2.0 unx     2412 b- defN 23-Jul-17 14:27 functime/forecasting/xgboost.py
--rw-r--r--  2.0 unx      229 b- defN 23-Jul-17 14:27 functime/metrics/__init__.py
--rw-r--r--  2.0 unx     3826 b- defN 23-Jul-17 14:27 functime/metrics/multi_objective.py
--rw-r--r--  2.0 unx     6810 b- defN 23-Jul-17 14:27 functime/metrics/point.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-17 14:27 functime/metrics/probabilistic.py
--rw-r--r--  2.0 unx    34523 b- defN 23-Jul-17 14:28 functime-0.2.0.dist-info/LICENSE
--rw-r--r--  2.0 unx     8269 b- defN 23-Jul-17 14:28 functime-0.2.0.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Jul-17 14:28 functime-0.2.0.dist-info/WHEEL
--rw-r--r--  2.0 unx       52 b- defN 23-Jul-17 14:28 functime-0.2.0.dist-info/entry_points.txt
--rw-r--r--  2.0 unx        9 b- defN 23-Jul-17 14:28 functime-0.2.0.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     3506 b- defN 23-Jul-17 14:28 functime-0.2.0.dist-info/RECORD
-42 files, 174125 bytes uncompressed, 52662 bytes compressed:  69.8%
+Zip file size: 58296 bytes, number of entries: 42
+-rw-r--r--  2.0 unx       66 b- defN 23-Jul-18 12:59 functime/__init__.py
+-rw-r--r--  2.0 unx      117 b- defN 23-Jul-18 12:59 functime/__main__.py
+-rw-r--r--  2.0 unx     5893 b- defN 23-Jul-18 12:59 functime/backtesting.py
+-rw-r--r--  2.0 unx     1838 b- defN 23-Jul-18 12:59 functime/conformal.py
+-rw-r--r--  2.0 unx     1379 b- defN 23-Jul-18 12:59 functime/conversion.py
+-rw-r--r--  2.0 unx     5549 b- defN 23-Jul-18 12:59 functime/cross_validation.py
+-rw-r--r--  2.0 unx     2241 b- defN 23-Jul-18 12:59 functime/offsets.py
+-rw-r--r--  2.0 unx      393 b- defN 23-Jul-18 12:59 functime/plotting.py
+-rw-r--r--  2.0 unx    18763 b- defN 23-Jul-18 12:59 functime/preprocessing.py
+-rw-r--r--  2.0 unx     1976 b- defN 23-Jul-18 12:59 functime/ranges.py
+-rw-r--r--  2.0 unx     1481 b- defN 23-Jul-18 12:59 functime/stats.py
+-rw-r--r--  2.0 unx      610 b- defN 23-Jul-18 12:59 functime/umap.py
+-rw-r--r--  2.0 unx      217 b- defN 23-Jul-18 12:59 functime/base/__init__.py
+-rw-r--r--  2.0 unx     7424 b- defN 23-Jul-18 12:59 functime/base/forecaster.py
+-rw-r--r--  2.0 unx     1630 b- defN 23-Jul-18 12:59 functime/base/metric.py
+-rw-r--r--  2.0 unx     2771 b- defN 23-Jul-18 12:59 functime/base/model.py
+-rw-r--r--  2.0 unx     2237 b- defN 23-Jul-18 12:59 functime/base/transformer.py
+-rw-r--r--  2.0 unx      285 b- defN 23-Jul-18 12:59 functime/feature_extraction/__init__.py
+-rw-r--r--  2.0 unx     4064 b- defN 23-Jul-18 12:59 functime/feature_extraction/calendar.py
+-rw-r--r--  2.0 unx      745 b- defN 23-Jul-18 12:59 functime/forecasting/__init__.py
+-rw-r--r--  2.0 unx    12183 b- defN 23-Jul-18 12:59 functime/forecasting/_ar.py
+-rw-r--r--  2.0 unx     4798 b- defN 23-Jul-18 12:59 functime/forecasting/_evaluate.py
+-rw-r--r--  2.0 unx     2231 b- defN 23-Jul-18 12:59 functime/forecasting/_reduction.py
+-rw-r--r--  2.0 unx     8481 b- defN 23-Jul-18 12:59 functime/forecasting/_regressors.py
+-rw-r--r--  2.0 unx     8215 b- defN 23-Jul-18 12:59 functime/forecasting/automl.py
+-rw-r--r--  2.0 unx     2175 b- defN 23-Jul-18 12:59 functime/forecasting/catboost.py
+-rw-r--r--  2.0 unx     3714 b- defN 23-Jul-18 12:59 functime/forecasting/censored.py
+-rw-r--r--  2.0 unx     1034 b- defN 23-Jul-18 12:59 functime/forecasting/knn.py
+-rw-r--r--  2.0 unx     3703 b- defN 23-Jul-18 12:59 functime/forecasting/lance.py
+-rw-r--r--  2.0 unx     4215 b- defN 23-Jul-18 12:59 functime/forecasting/lightgbm.py
+-rw-r--r--  2.0 unx     4018 b- defN 23-Jul-18 12:59 functime/forecasting/linear.py
+-rw-r--r--  2.0 unx     2412 b- defN 23-Jul-18 12:59 functime/forecasting/xgboost.py
+-rw-r--r--  2.0 unx      229 b- defN 23-Jul-18 12:59 functime/metrics/__init__.py
+-rw-r--r--  2.0 unx     3826 b- defN 23-Jul-18 12:59 functime/metrics/multi_objective.py
+-rw-r--r--  2.0 unx     6810 b- defN 23-Jul-18 12:59 functime/metrics/point.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-18 12:59 functime/metrics/probabilistic.py
+-rw-r--r--  2.0 unx    34523 b- defN 23-Jul-18 13:00 functime-0.2.1.dist-info/LICENSE
+-rw-r--r--  2.0 unx     8269 b- defN 23-Jul-18 13:00 functime-0.2.1.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Jul-18 13:00 functime-0.2.1.dist-info/WHEEL
+-rw-r--r--  2.0 unx       52 b- defN 23-Jul-18 13:00 functime-0.2.1.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx        9 b- defN 23-Jul-18 13:00 functime-0.2.1.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     3506 b- defN 23-Jul-18 13:00 functime-0.2.1.dist-info/RECORD
+42 files, 174174 bytes uncompressed, 52718 bytes compressed:  69.7%
```

## zipnote {}

```diff
@@ -102,26 +102,26 @@
 
 Filename: functime/metrics/point.py
 Comment: 
 
 Filename: functime/metrics/probabilistic.py
 Comment: 
 
-Filename: functime-0.2.0.dist-info/LICENSE
+Filename: functime-0.2.1.dist-info/LICENSE
 Comment: 
 
-Filename: functime-0.2.0.dist-info/METADATA
+Filename: functime-0.2.1.dist-info/METADATA
 Comment: 
 
-Filename: functime-0.2.0.dist-info/WHEEL
+Filename: functime-0.2.1.dist-info/WHEEL
 Comment: 
 
-Filename: functime-0.2.0.dist-info/entry_points.txt
+Filename: functime-0.2.1.dist-info/entry_points.txt
 Comment: 
 
-Filename: functime-0.2.0.dist-info/top_level.txt
+Filename: functime-0.2.1.dist-info/top_level.txt
 Comment: 
 
-Filename: functime-0.2.0.dist-info/RECORD
+Filename: functime-0.2.1.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## functime/preprocessing.py

```diff
@@ -348,17 +348,15 @@
         - 'interpolate': Interpolate missing values using linear interpolation.
         - int or float: Replace missing values with the specified constant.
     """
 
     def method_to_expr(entity_col, time_col):
         """Fill-in methods."""
         return {
-            "mean": PL_NUMERIC_COLS(entity_col, time_col).fill_null(
-                PL_NUMERIC_COLS(entity_col, time_col).mean().over(entity_col)
-            ),
+            "mean": PL_NUMERIC_COLS(entity_col, time_col).fill_null(strategy="mean"),
             "median": PL_NUMERIC_COLS(entity_col, time_col).fill_null(
                 PL_NUMERIC_COLS(entity_col, time_col).median().over(entity_col)
             ),
             # "mode": PL_NUMERIC_COLS(entity_col, time_col).fill_null(PL_NUMERIC_COLS(entity_col, time_col).mode().over(entity_col)),
             "fill": [
                 PL_FLOAT_COLS.fill_null(PL_FLOAT_COLS.mean().over(entity_col)),
                 PL_INT_COLS.fill_null(PL_INT_COLS.median().over(entity_col)),
@@ -477,43 +475,44 @@
         entity_col, time_col = idx_cols
         gb = X.groupby(X.columns[0])
         # Step 1. Compute optimal lambdas
         lmbds = gb.agg(
             PL_NUMERIC_COLS(entity_col, time_col)
             .apply(lambda x: boxcox_normmax(x, method=method))
             .cast(pl.Float64())
+            .suffix("__lmbd")
         )
         # Step 2. Transform
         cols = X.select(PL_NUMERIC_COLS(entity_col, time_col)).columns
-        X_new = X.join(lmbds, on=entity_col, how="left", suffix="_lmbd").select(
+        X_new = X.join(lmbds, on=entity_col, how="left").select(
             idx_cols
             + [
-                pl.when(pl.col(f"{col}_lmbd") == 0)
+                pl.when(pl.col(f"{col}__lmbd") == 0)
                 .then(pl.col(col).log())
                 .otherwise(
-                    (pl.col(col) ** pl.col(f"{col}_lmbd") - 1) / pl.col(f"{col}_lmbd")
+                    (pl.col(col) ** pl.col(f"{col}__lmbd") - 1) / pl.col(f"{col}__lmbd")
                 )
                 for col in cols
             ]
         )
         artifacts = {"X_new": X_new, "lmbds": lmbds}
         return artifacts
 
     def invert(state: ModelState, X: pl.LazyFrame) -> pl.LazyFrame:
         idx_cols = X.columns[:2]
         lmbds = state.artifacts["lmbds"]
         cols = X.select(PL_NUMERIC_COLS(state.time)).columns
-        X_new = X.join(lmbds, on=X.columns[0], how="left", suffix="_lmbd").select(
+        X_new = X.join(lmbds, on=X.columns[0], how="left", suffix="__lmbd").select(
             idx_cols
             + [
-                pl.when(pl.col(f"{col}_lmbd") == 0)
+                pl.when(pl.col(f"{col}__lmbd") == 0)
                 .then(pl.col(col).exp())
                 .otherwise(
-                    (pl.col(f"{col}_lmbd") * pl.col(col) + 1)
-                    ** (1 / pl.col(f"{col}_lmbd"))
+                    (pl.col(f"{col}__lmbd") * pl.col(col) + 1)
+                    ** (1 / pl.col(f"{col}__lmbd"))
                 )
                 for col in cols
             ]
         )
         return X_new
 
     return transform, invert
```

## functime/umap.py

```diff
@@ -7,18 +7,20 @@
     X: np.ndarray,
     y: Optional[np.ndarray] = None,
     n_dims: int = 3,
     n_neighbors: int = 3,
     min_dist: float = 0.1,
     random_state: Optional[int] = None,
 ) -> np.ndarray:
+    import sklearn
     import umap
 
-    model = umap.UMAP(
-        n_components=n_dims,
-        n_neighbors=n_neighbors,
-        min_dist=min_dist,
-        metric="manhattan",
-        random_state=random_state,
-    )
-    embs = model.fit_transform(X=X, y=y)
+    with sklearn.config_context(assume_finite=True):
+        model = umap.UMAP(
+            n_components=n_dims,
+            n_neighbors=n_neighbors,
+            min_dist=min_dist,
+            metric="manhattan",
+            random_state=random_state,
+        )
+        embs = model.fit_transform(X=X, y=y)
     return embs
```

## Comparing `functime-0.2.0.dist-info/LICENSE` & `functime-0.2.1.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `functime-0.2.0.dist-info/METADATA` & `functime-0.2.1.dist-info/METADATA`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: functime
-Version: 0.2.0
+Version: 0.2.1
 Summary: The easiest way to run and scale time-series machine learning in the Cloud.
 Author-email: functime Team <team@functime.ai>, Chris Lo <chris@functime.ai>, Daryl Lim <daryl@functime.ai>
 Project-URL: Homepage, https://github.com/descendant-ai/functime
 Classifier: Development Status :: 4 - Beta
 Classifier: Intended Audience :: Science/Research
 Classifier: Intended Audience :: Developers
 Classifier: Topic :: Software Development :: Libraries :: Python Modules
```

## Comparing `functime-0.2.0.dist-info/RECORD` & `functime-0.2.1.dist-info/RECORD`

 * *Files 10% similar despite different names*

```diff
@@ -2,18 +2,18 @@
 functime/__main__.py,sha256=HpYJUAIeN5HXQhaM5_kDwo441jDPe9GJ8dLjF9HE9VQ,117
 functime/backtesting.py,sha256=zuFuaqM_qWyf-3-xpnlGgo7s24ngV9akp1UNPpmgo9s,5893
 functime/conformal.py,sha256=SLLPOEEzOdzVdFzCpNfmETmr4fHKqIhtJC-Xce6mHyo,1838
 functime/conversion.py,sha256=ulS0QWDUWgA3KgJ_2Gn0R-eMRWADN9sVfSOghtzjUIE,1379
 functime/cross_validation.py,sha256=uTkcotiLATM_qA0zfgWAIPaD4fJW9LSqiBABfAbeqvY,5549
 functime/offsets.py,sha256=MO-St46MdhutFtkPJyr5XskYr_0yj_l1nnxh-1fC7GQ,2241
 functime/plotting.py,sha256=r-CaXqOhRzWKTdRDbp5l4fTyerGq5qj2Re91mQ9W15U,393
-functime/preprocessing.py,sha256=6Mn3A4UzplSWdoUB_glulvRZuhSD3LlYJ4GKjFfW5q0,18818
+functime/preprocessing.py,sha256=9WNOyz3lXOs7FLEfOF9dS2pOXeYje-dogI4pp4vja74,18763
 functime/ranges.py,sha256=b3biGP7s2OpoYopEGExELes79D_LdloDW4QH9j1slxI,1976
 functime/stats.py,sha256=fDy8OpsQl0TCYyD98r9D9Y5IVo8m2u9DoY8aOsYA7CA,1481
-functime/umap.py,sha256=3fL33DtRzqLH4EFJb9EP5MW4ARnUxQXdch6auFh-dzQ,506
+functime/umap.py,sha256=9-kKBvDYK7rmijQxUmIsuy-5VHkIQhCEYQDYzTya8iI,610
 functime/base/__init__.py,sha256=YKzO_7RyxYbn3-jTa4gipQxrwnzUQN2_d2edjDehLmw,217
 functime/base/forecaster.py,sha256=wryuI4OGMGwWVcizx0lKlKHB-ROMw35YSpE1gb3ggeQ,7424
 functime/base/metric.py,sha256=Ous83EZ4ADpcyvHnTGNaxekqKEkwQB7qbYWuzKiGAAI,1630
 functime/base/model.py,sha256=mL8GFL7qNNb4rufm3ZbLzxyDPoDuoHgQhpZ0t20AHv4,2771
 functime/base/transformer.py,sha256=mL0ljSUtdJ6ZX-nEck553pbHk6odZdkqxnGkfYDqWJs,2237
 functime/feature_extraction/__init__.py,sha256=GS4FtQUUuzJZAJJ4g7fgamtbZhAecz8iwaQsejPTVhs,285
 functime/feature_extraction/calendar.py,sha256=yQwbo_27M2lyCqr9FxUKwEHC5_Kp75XB003HhEsnAmE,4064
@@ -30,13 +30,13 @@
 functime/forecasting/lightgbm.py,sha256=b0nDwFQLFtyAB-0vbeL8JRehO_sszjJFm_PAOT5MFJY,4215
 functime/forecasting/linear.py,sha256=42vzUSPukIfXiyyW3krq8QQorvw--cHexjUaAmw7WP0,4018
 functime/forecasting/xgboost.py,sha256=kguM3IvqtJKSD3tysxgCiOe-NwApBew5tOO9_zxt4-I,2412
 functime/metrics/__init__.py,sha256=Bx-vU-jxkAg-zy2mVWYDtNOkluvgKJnL9uf0IhKIapw,229
 functime/metrics/multi_objective.py,sha256=EP9sGQ4HSCRN1SQazoJfntcovMP6RAVf7hZMXgcA2gE,3826
 functime/metrics/point.py,sha256=HlkcYvGAtFPr8kiTHQnoXZujysg2DK-BuUJVmLwiNKM,6810
 functime/metrics/probabilistic.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-functime-0.2.0.dist-info/LICENSE,sha256=hIahDEOTzuHCU5J2nd07LWwkLW7Hko4UFO__ffsvB-8,34523
-functime-0.2.0.dist-info/METADATA,sha256=hdMMy1m4FDIKRxb-Pq-FGjXR_injPqr0-Rr2q-TyODs,8269
-functime-0.2.0.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-functime-0.2.0.dist-info/entry_points.txt,sha256=y-9Na7pOh73f05jw87NkCt13P24wV_2qPEDF6ylwSXI,52
-functime-0.2.0.dist-info/top_level.txt,sha256=RUXkPSxtl5ViacwkIXqV7W8uyhA9yNRqrLMFS-jhFP4,9
-functime-0.2.0.dist-info/RECORD,,
+functime-0.2.1.dist-info/LICENSE,sha256=hIahDEOTzuHCU5J2nd07LWwkLW7Hko4UFO__ffsvB-8,34523
+functime-0.2.1.dist-info/METADATA,sha256=fR39UGJ4hTVU1fb4Tsp1B0GwQTZaaf84RqEY52H4XKo,8269
+functime-0.2.1.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+functime-0.2.1.dist-info/entry_points.txt,sha256=y-9Na7pOh73f05jw87NkCt13P24wV_2qPEDF6ylwSXI,52
+functime-0.2.1.dist-info/top_level.txt,sha256=RUXkPSxtl5ViacwkIXqV7W8uyhA9yNRqrLMFS-jhFP4,9
+functime-0.2.1.dist-info/RECORD,,
```

